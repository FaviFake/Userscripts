/* Base64 decoded, slightly deobfuscated, beautified JavaScript file
- Loaded and run right after about a second after the Aternos site has loaded
- Loads the Anti-Adblock fullscreen thing

- I've commented and renamed a couple things to make it easier to read.
*/

(function () {
    var EveryElementInvisible = true;
    let atStartThisNumWasZero = 0;
    //Window loaded
    $(window).on("load", function () {

      var unusedDateVariable = window.Date.now() - boolVariableThingy;

      try {
        if ($("#1NMtjl3ptknmlVTmUGvN0x").css("display") !== "none") { //else atStartThisNumWasZero = 402;
          if ($("#JIaeveyIRn88oFI3").css("display") !== "none") { //else atStartThisNumWasZero = 242;
            if ($("#adUnit").css("display") !== "none") { //else atStartThisNumWasZero = 1;
              if ($("#uI8oxcouyHdfz4KtXQ761ZKv").css("display") !== "none") { //else atStartThisNumWasZero = 386;
                if (typeof XMLHttpRequest.setUpdateListener === "function") { //else atStartThisNumWasZero = 81;
                  if ($("#wn4vMp4LlLmFdZsD22Nz").css("display") !== "none") { //else atStartThisNumWasZero = 562;
                    if ($("#t0z7HNplL13dpe7Cp7V").css("display") !== "none") { // else atStartThisNumWasZero = 482;
                      if (!$("#odhmfmnoejhihkmfebnolljiibpnednn_cssInject_pre").length) { //else atStartThisNumWasZero = 49;
                        if ($("#reservedServerDetailContainer").css("display") !== "none") { //else atStartThisNumWasZero = 578;
                          if ($("#MfaBaLr8Z7GsPYiWjmtd3Zf").css("display") !== "none") { //else atStartThisNumWasZero = 290;
                            if ($("#h37g76gfgf874gf843").css("position") !== "absolute") { //else atStartThisNumWasZero = 129;
                              if ($("#Oqmh69pSuEDeJxOPp7Si").css("display") !== "none") { // else atStartThisNumWasZero = 466;
                                if ($("#casatZuhKo9xzCVLHkpRiu").css("display") !== "none") { // else atStartThisNumWasZero = 194;
                                  if ($("#tI2nudhiOnVqnMZmgb").css("display") !== "none") { // else atStartThisNumWasZero = 338;
                                    if ($("#4dMq3KeeQJd3MSU8V").css("display") !== "none") { // else atStartThisNumWasZero = 370;
                                      if ($(".ad-label").css("display") !== "none" && $(".ad-label").css("position") !== "absolute") { // else atStartThisNumWasZero = 65;
                                        if ($("#14eaTbXvbBLpL").css("display") !== "none") { // else atStartThisNumWasZero = 450;
                                          if ($(".bad").css("display") === "none") { // else atStartThisNumWasZero = 33;
                                            if ($("#LSqmXOlQ7lWT0gnI3QBOaTE").css("display") !== "none") { // else atStartThisNumWasZero = 258;
                                              //The regex detects a function: https://regex101.com/r/hJOnZZ/1
                                              if (window.pbjsChunk && !String(pbjsChunk).match(/^(?:function[\s\n]*\w*[\s\n]*\(\)|\(\s*\)\s*=>\s*)[\s\n]*\{[\s\n]*(?:return(?:\s+true|false)?\s*;?)?[\s\S]*\}[\s\n]*$/)) { // else  atStartThisNumWasZero = 97;
                                                if ($("#KeAH3ACQT9U9VlV1l").css("display") !== "none") { //else atStartThisNumWasZero = 274;
                                                  if ($("#QGmsoi47k").css("display") !== "none") { // else atStartThisNumWasZero = 162;
                                                    if ($("#LFco0eLRCiClXuYW95sR").css("display") !== "none") {  // else atStartThisNumWasZero = 434;
                                                      if ($("#dd1leWeaLeLBN").css("display") !== "none") { // else atStartThisNumWasZero = 418;
                                                        if ($("#w8kMlnDj").css("display") !== "none") { // else atStartThisNumWasZero = 306;
                                                          if ($("#yPyPFcCuiB3j").css("display") !== "none") { // else atStartThisNumWasZero = 498;
                                                            if ($("#0JRiw9O2D1TLLPO").css("display") !== "none") { //else atStartThisNumWasZero = 354;
                                                              if ($("#ltq2oDBQdo1ogV0OuxF5ZN").css("display") !== "none") { // else atStartThisNumWasZero = 210;
                                                                if ($("#Rm09y9eX5pm3W6b7ZIbM0Fl3").css("display") !== "none") { // atStartThisNumWasZero = 530;
                                                                  if ($("#J9aM1tezvTaAFFw7FD3pGe").css("display") !== "none") { // else atStartThisNumWasZero = 178;
                                                                    if ($("#lj3bUr0HEv").css("display") !== "none") { // else atStartThisNumWasZero = 546;
                                                                      if ($(".ad").css("display") !== "none") { // else atStartThisNumWasZero = 17;
                                                                        if ($("#xBO3WkKQgmxKIVQh").css("display") !== "none") { //else atStartThisNumWasZero = 322;
                                                                          if ($("#CJl0WFZID1a6DTw").css("display") !== "none") { // else atStartThisNumWasZero = 514;
                                                                            if (typeof pbjsChunk === "function") { // else atStartThisNumWasZero = 113;
                                                                              if (typeof boolVariableThingy === "number") { // else atStartThisNumWasZero = 145;
                                                                                if ($("#v9EuAl280").css("display") !== "none") { // else atStartThisNumWasZero = 226;

                                                                                  //If every obfuscated element's display is something else than "none" or generally set on (If every element is visible or has values)

                                                                                  EveryElementInvisible = false; 


                                                                                } else {
                                                                                  atStartThisNumWasZero = 226;
                                                                                }
                                                                              } else {
                                                                                atStartThisNumWasZero = 145;
                                                                              }
                                                                            } else {
                                                                              atStartThisNumWasZero = 113;
                                                                            }
                                                                          } else {
                                                                            atStartThisNumWasZero = 514;
                                                                          }
                                                                        } else {
                                                                          atStartThisNumWasZero = 322;
                                                                        }
                                                                      } else {
                                                                        atStartThisNumWasZero = 17;
                                                                      }
                                                                    } else {
                                                                      atStartThisNumWasZero = 546;
                                                                    }
                                                                  } else {
                                                                    atStartThisNumWasZero = 178;
                                                                  }
                                                                } else {
                                                                  atStartThisNumWasZero = 530;
                                                                }
                                                              } else {
                                                                atStartThisNumWasZero = 210;
                                                              }
                                                            } else {
                                                              atStartThisNumWasZero = 354;
                                                            }
                                                          } else {
                                                            atStartThisNumWasZero = 498;
                                                          }
                                                        } else {
                                                          atStartThisNumWasZero = 306;
                                                        }
                                                      } else {
                                                        atStartThisNumWasZero = 418;
                                                      }
                                                    } else {
                                                      atStartThisNumWasZero = 434;
                                                    }
                                                  } else {
                                                    atStartThisNumWasZero = 162;
                                                  }
                                                } else {
                                                  atStartThisNumWasZero = 274;
                                                }
                                              } else {
                                                atStartThisNumWasZero = 97;
                                              }
                                            } else {
                                              atStartThisNumWasZero = 258;
                                            }
                                          } else {
                                            atStartThisNumWasZero = 33;
                                          }
                                        } else {
                                          atStartThisNumWasZero = 450;
                                        }
                                      } else {
                                        atStartThisNumWasZero = 65;
                                      }
                                    } else {
                                      atStartThisNumWasZero = 370;
                                    }
                                  } else {
                                    atStartThisNumWasZero = 338;
                                  }
                                } else {
                                  atStartThisNumWasZero = 194;
                                }
                              } else {
                                atStartThisNumWasZero = 466;
                              }
                            } else {
                              atStartThisNumWasZero = 129;
                            }
                          } else {
                            atStartThisNumWasZero = 290;
                          }
                        } else {
                          atStartThisNumWasZero = 578;
                        }
                      } else {
                        atStartThisNumWasZero = 49;
                      }
                    } else {
                      atStartThisNumWasZero = 482;
                    }
                  } else {
                    atStartThisNumWasZero = 562;
                  }
                } else {
                  atStartThisNumWasZero = 81;
                }
              } else {
                atStartThisNumWasZero = 386;
              }
            } else {
              atStartThisNumWasZero = 1;
            }
          } else {
            atStartThisNumWasZero = 242;
          }
        } else {
          atStartThisNumWasZero = 402;
        }
      //If any of the display = none checks or similar fail
      } catch (e) {
        atStartThisNumWasZero = 234;
        has10minPassed();
        false;
      }

      //Once window loaded and the random element checks have been completed run these
      enableAntiAdblock();
      if (!EveryElementInvisible) {
        $("#start").each(function () {
          this._ready = true;
        });
      }

    }); //END OF $(window).on("load", function () {

    function someUnusedFunction(obj, prop) {
      if (!obj) {
        return false;
      }
      let d = Object.getOwnPropertyDescriptor(obj, prop);
      if (!d) {
        return false;
      }
      return typeof d.value !== "undefined";
    }

    window.scriptRanAlready = false;
    window.addEventListener("beforeunload", () => {
      window.scriptRanAlready = true;
    });

    let hiddenPageContentPlaceholderElement = document.createElement("div");
    hiddenPageContentPlaceholderElement.style.cssText = "height:0; width:0; overflow:hidden;";

    function enableAntiAdblock() {
      if (EveryElementInvisible) {
        $(".counterElem").next().text("#" + atStartThisNumWasZero);
        $(".NCUhtaRVmVvtKVKkHgHXbhDVKyYS").removeClass("NCUhtaRVmVvtKVKkHgHXbhDVKyYS").addClass("fa-sad-tear");
        $("#mainAntiBlockElem").show().css("opacity", window.scriptRanAlready ? 0 : 1);
        if (!window.scriptRanAlready) {
          $(".body, .header").each(function () {
            this.style.setProperty("display", "none", "important");
            this.style.setProperty("height", "0", "important");
          });
          $("#reservedServerDetailContainer").append(hiddenPageContentPlaceholderElement);
          $(".page-content").children().not("script").appendTo(hiddenPageContentPlaceholderElement);
          $(".ad-replacement").css({display: "flex"});
          doAReportLoop();
        }
        //Anti-Adblock loop, appends "You're using an adblocker" (red fullscreen thing) every 600000ms (10minutes)
        setInterval(function () {
          $(".body, .header").each(function () {
            this.style.display = "none";
          });
          $("#mainAntiBlockElem").show().css("opacity", 1);
        }, 6e5); //600000
      }
    }

    function has10minPassed() {
      if (window.boolVariableThingy && Date.now() - window.boolVariableThingy > 6e4) { //60000
        return;
      }
      EveryElementInvisible = true;
      enableAntiAdblock();
    }
    let t, c;

    function doAReportLoop() {
      if (c === atStartThisNumWasZero) {
        return;
      }
      if (t) {
        clearTimeout(t);
        t = null;
      }
      c = atStartThisNumWasZero;
      t = setTimeout(() => {
        apost("/panel/ajax/reportDetection.php", {c: c}, () => {}, () => {});
      }, 5e3); //5000
    }

    //"Continue with adblocker anyway" button clicked - I've edited the variable, normally this would be randomized, such as ".FEKDMdmoAZVCNVEMXHADnandACCXZvmIIcxni"
    $(".ContinueAnywayButton").click(function () {
        //"btn" variable is the "Continue with adblocker anyway" button element
        var btn = $(this);

        //If the button has already been pressed (And is counting down)
        if (btn.hasClass("btn-working")) {
            //Don't continue
            return false;
        }

        //Add a class to detect if the button has already been pressed
        btn.addClass("btn-working");

        //How many seconds to wait
        var secondsToWait = 3;

        //Append the number to a countdown element next to the button (It'll go 3, 2, 1...)
        $(".counterElem").html(secondsToWait);

        //Take the current UNIX time (Countdown start UNIX time)
        //UNIX is probably used to bypass any time modification scripts
        let t = Date.now();

        //Every 200ms interval
        var twohundredMsInterval = setInterval(function () {
            //Calculate the remaining time
            secondsToWait = Math.max(3 - Math.floor((Date.now() - t) / 1e3), 0);

            $(".counterElem").html(secondsToWait);

            //No more time to be waited (3 seconds elapsed)
            if (secondsToWait === 0) {
                //Remove the 200ms interval
                clearInterval(twohundredMsInterval);

                //Remove the "Continue with adblocker anyway" button
                btn.removeClass("btn-working");

                //Copy the page content's elements from a hidden element to the visible real element
                $(hiddenPageContentPlaceholderElement).children().appendTo($(".page-content"));

                //Remove the hidden element, because we just copied the stuff from it, it's not needed anymore.
                $(hiddenPageContentPlaceholderElement).remove();

                //Set the body and header class visible
                $(".body, .header").each(function () {
                    this.style.setProperty("display", "");
                    this.style.setProperty("height", "");
                });

                //Hide the fullscreen red Anti-Adblock element
                $("#mainAntiBlockElem")[0].style.display = "none";

                //Remove the countdown element
                $(".counterElem").html("");

                //Make the start button functional
                $("#start").each(function () {
                    this._ready = true;
                });
            }
      }, 200);
    });

    //Some functions, haven't gotten into deobfuscating it yet
    var _0x4c04 = ["#mainAntiBlockElem", "css"];
    (function (_0x34c138, _0x1b4225) {
      var _0x86c715 = function (_0x40df3c) {
        while (--_0x40df3c) {
          _0x34c138.push(_0x34c138.shift());
        }
      };
      _0x86c715(++_0x1b4225);
    }(_0x4c04, 500));
    var _0x4c6e = function (_0x513f8a, _0x204a98) {
      _0x513f8a = _0x513f8a - 0;
      var _0x33898a = _0x4c04[_0x513f8a];
      return _0x33898a;
    };
    $(_0x4c6e("0x0"))[_0x4c6e("0x1")]("opacity", 1)[0].style.display = "none";
    if (Image && Image.prototype.dispatchEvent) {
      let integerTwo = 2;
      for (let en of ["load", "error"]) {
        let i = new Image;
        i.addEventListener(en, () => { //On load and error (?)
          "this['_url']";
          integerTwo -= 1; //2 - 1  = 1
        });
        i.dispatchEvent(new Event(en));
      }
      if (integerTwo) {
        atStartThisNumWasZero = 387;
        has10minPassed();
      }
    }

    //This part is probably run after the "Continue with adblock anyway" button has been pressed or somewhere later there
    //The regex detects a function: https://regex101.com/r/hJOnZZ/1
    if (XMLHttpRequest.setUpdateListener && !String(XMLHttpRequest.setUpdateListener).match(/^(?:function[\s\n]*\w*[\s\n]*\(\)|\(\s*\)\s*=>\s*)[\s\n]*\{[\s\n]*(?:return(?:\s+true|false)?\s*;?)?[\s\S]*\}[\s\n]*$/) && XMLHttpRequest.setUpdateListener(-1) === "wZpEHVAwXZkBGDoxgfqwwnnOJtSjdsEXyt") {
      XMLHttpRequest.setUpdateListener(d => {
        let d1 = ["hbopenbid.pubmatic.com", "c.amazon-adsystem.com", "tlx.3lift.com", "prebid.digitru.st", "ad.yieldlab.net", "onetag-sys.com", "bidder.criteo.com", "securepubads.g.doubleclick.net", "snigel-d.openx.net", "cdn.snigelweb.com", "prebid.a-mo.net", "pagead2.googlesyndication.com"];
        let p1 = ["cdn.snigelweb.com"];
        let n = 0;
        if (d.filter(value => {
          if (!p1.includes(value)) {
            return false;
          }
          n |= 1 << Math.max(0, d1.indexOf(value));
          return true;
        }).length || d.filter(value => {
          let i = d1.indexOf(value);
          if (i !== -1) {
            n |= 1 << i;
          }
          return i !== -1;
        }).length > 1) {
          atStartThisNumWasZero = n << 4 | 4;
          has10minPassed();
        }
      });
    } else {
      atStartThisNumWasZero = 2565;
      has10minPassed();
    }
    (() => {
      let e = document.createElement("div");
      e.id = "snigel-cmp-framework";
      document.body.appendChild(e);
      if ($(e).css("display") === "none") {
        atStartThisNumWasZero = 1563;
        has10minPassed();
      }
      document.body.removeChild(e);
    })();
    (() => {
      let e = "6QhRywJN";
      let r = false;
      try {
        r = atob(btoa(e)) === e;
      } catch (e) {}
      if (!r) {
        atStartThisNumWasZero = 10280;
      }
    })();
    if (window.xqRVojxMyeqUwuoBeQeKXLyY && Array.isArray(window.xqRVojxMyeqUwuoBeQeKXLyY)) {
      window.xqRVojxMyeqUwuoBeQeKXLyY.update = function () {
        if (!this.length) {
          return;
        }
        let n = 0;
        this.forEach(e => n |= 1 << e);
        atStartThisNumWasZero = n << 4 | 9;
        has10minPassed();
      };
      window.xqRVojxMyeqUwuoBeQeKXLyY.update();
    } else {
      atStartThisNumWasZero = 1381;
      has10minPassed();
    }
    if (!Object.getOwnPropertyDescriptor(window, "$").value) {
      atStartThisNumWasZero = 3078;
      has10minPassed();
    }
    if (window.JNWyFJxagqWKyTcOCzvZbCMvOElJusXgZ !== false) {
      atStartThisNumWasZero = 3095;
      has10minPassed();
    }
    if (!JSON.parse('{"vendors": true}').vendors) {
      atStartThisNumWasZero = 3048;
      has10minPassed();
    }
    if (window.innerWidth < 800) {
      $("#UtIfDCAXZGCKokdGHQdLhwbxWfgxuNmdLeX").hide();
    }
    //Run when document is ready and after the fullscreen red Anti-Adblock goes away
    $(document).ready(function () {
            $("#userdropdown-toggle").click(function (e) {
                if ($(window).width() <= 1e3) {
                e.preventDefault();
                $(".userdropdown").slideToggle(100);
                }
            });
            $(".logout").click(function () {
                aget("/panel/ajax/account/logout.php", function () {
                location.href = "/go/";
                });
            });
            $(".navigation-toggle").click(function () {
                var cookieValue = 0;
                if ($(".navigation").hasClass("toggled")) {
                $(".navigation").removeClass("toggled");
                } else {
                $(".navigation").addClass("toggled");
                cookieValue = 1;
                }
                document.cookie = COOKIE_PREFIX + "_NAVIGATION_TOGGLED=" + cookieValue + ";path=/;max-age=31536000";
            });
            $(".friend-access-count-dropdown").click(function () {
                var dropdown = $(".friend-access-dropdown");
                if (dropdown.css("display") === "none") {
                dropdown.slideDown(100);
                $(".friend-access-count-dropdown i").fa("fas", "fa-caret-up");
                } else {
                dropdown.slideUp(100);
                $(".friend-access-count-dropdown i").fa("fas", "fa-caret-down");
                }
            });
            $(".js-friends-access").click(friendAccess);
            $(".js-friends-leave").click(friendLeave);
            $(".hamburger").click(function () {
                if ($(".navigation").css("left") == "-200px") {
                $(".navigation").animate({left: "0px"});
                } else {
                $(".navigation").animate({left: "-200px"});
                }
            });
        });
}()); 
